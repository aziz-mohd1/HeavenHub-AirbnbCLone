<style>
    @media screen and (max-width: 1080px) {
        .createListingBtn{
            display: none;
        }
    };
    @media screen and (max-width: 400px) {
        .logo{
            display: none;
        }
    };
    @media screen and (max-width: 1080px) {
        nav{
            height: 5rem;
        }
    };
    
    
</style>

<nav class="bg-white h-36 border-b-2 text-[#222222] sticky top-0 z-10 transition-all duration-200 ease-in">
    <div class="max-w-screen-xl flex items-center mx-auto">
        <div class="w-[60%] flex flex-wrap items-center">
            <a href="/listings" class="mr-5 flex justify-center items-center relative">
                <!-- <i class="fa-regular fa-compass text-[#FF385C] text-3xl"></i> -->
                 <img src="/images/AzizBrandLogo1-removebg-preview.png" alt="" class="w-[5.5rem] h-[5rem]">
                 <p class="logo text-[2rem] -ml-3">Heaven<span class="text-[#FF385C] font-bold">Hub.</span></p>
            </a>
           
            
    
            <div class="ms-auto">
                <form class="max-w-lg mx-auto">
                    <div class="flex">
                        <div class="relative w-full md:w-[20rem]">
                            <input type="search" id="search-dropdown" class="block p-2.5 w-full z-20 text-sm outline-none border border-gray-400 rounded-3xl shadow-lg px-4" placeholder="Search your Hub..." required />
    
                            <button type="submit" class="absolute top-0 end-0 p-2.5 text-sm font-medium w-30 h-full text-white bg-[#FF385C] rounded-3xl border border-gray-400 hover:bg-[#fa5170] flex justify-center items-center space-x-2">
                                <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                                </svg>
                                <span class="text-white text-[1rem]">Search</span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            
        </div>

        <div class="ms-auto hidden flex-col md:flex md:flex-row space-x-5 justify-center items-center">

            <a href="/listings/new" class="createListingBtn">HeavenHub your home</a>
            <div class="menuBar mx-6 px-5 py-2 border flex justify-center items-center space-x-5 rounded-3xl shadow-md border-gray-400">
                <% if (!currUser) { %>
                    <a href="/signup"><b>Sign up</b></a>
                    <a href="/login"><b>Log in</b></a>
                <% } else { %>
                    <a href="/logout"><b>Log out</b></a>
                <% } %>
            </div>
        </div>
        <!-- Hamburger menu for mobile view  -->
        <button id="menu-toggle" class="block md:hidden fixed top-5 right-5 mt-2">
            <i class="fa-solid fa-bars text-2xl"></i>
        </button>
        
    </div>
    <!-- Mobile menu -->
    <div id="mobile-menu" class="md:hidden space-y-2 mt-2 hidden px-5 mb-2">
        <a class="block" href="/listings">Explore</a>
        <a class="block" href="/listings/new">HeavenHub your home</a>
        <% if (!currUser) { %>
            <a class="block" href="/signup"><b>Sign up</b></a>
            <a class="block" href="/login"><b>Log in</b></a>
        <% } else { %>
            <a class="block" href="/logout"><b>Log out</b></a>
        <% } %>
    </div>
</nav>

<script>
    // JavaScript to handle the mobile menu toggle
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const nav = document.querySelector("nav");

    menuToggle.addEventListener('click', () => {
        // Toggle the hidden class to show/hide the menu
        setTimeout(() => {
            mobileMenu.classList.toggle("hidden");
            if (!mobileMenu.classList.contains("hidden")) {
                nav.style.height = "18rem"; // Expand navbar
                setTimeout(() => {
                    mobileMenu.classList.add("opacity-100");
                    mobileMenu.classList.remove("opacity-0");
                }, 100); // Delay the opacity transition for smooth effect
            } else {
                nav.style.height = "10rem"; // Collapse navbar
                mobileMenu.classList.add("opacity-0");
                mobileMenu.classList.remove("opacity-100");
            }
        }, 300);
    });

    // Listen for window resize events to reset the nav height for larger screens
    // window.addEventListener('resize', () => {
    //     if (window.innerWidth >= 700) { // Reset height when the screen width is medium or larger
    //         nav.style.height = "5rem";  // Set to original height for larger screens
    //         mobileMenu.classList.add('hidden');  // Ensure the mobile menu is hidden
    //         mobileMenu.classList.remove("opacity-100");
    //         mobileMenu.classList.add("opacity-0");
    //     }
    // });
</script>